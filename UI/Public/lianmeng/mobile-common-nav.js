!function(){var e="zepto-wepp@~1.1.4",o="wepp-module-overlay@~0.2.0",n="iscroll@~5.0.10",t="mobile-common-nav@1.2.1/index.js",i={},s=i;define(t,[e,o,n],function(e,o,n){var t=e("zepto-wepp"),i=e("wepp-module-overlay"),s="Hide",r=e("iscroll"),l=function(e){if(!e)throw"Menu got no param";this.container=e,this.lock=!1,this._init()};l.prototype._init=function(){var e=this.triggers=this.container.find(".J_trigger"),o=this.selectors=this.container.find(".J_selector"),n=this;this._initOverlay(),e.each(function(e,i){t(i).on("click",function(t){t.preventDefault();var i=o.eq(e);i&&i.length&&(i.hasClass(s)?n._openSelector(e):setTimeout(function(){n.ol.hide()},300))})}),o.each(function(e,o){var i=t(o).find(".sub");t(o).find(".main").each(function(e,r){t(r).find("p").each(function(e,r){var l=t(r),a=l.parent().find(".sub");a.appendTo(o).css({left:"45%",width:"55%"}),l.on("click",function(){i.addClass(s),t(o).find(".main .item").removeClass("on"),t(this).addClass("on"),n._showMenu(a)}),r._subItem_=a})})})},l.prototype._showSelector=function(e){var o=this;this.ol.show(),e.removeClass(s),e.find(".menu").each(function(){t(this).hasClass(s)||o._showMenu(t(this))})},l.prototype._showMenu=function(e){e.removeClass(s),e.length&&this._iScroll(e.get(0))},l.prototype._iScroll=function(e){if(e._iscroll_)e._iscroll_.refresh();else{e._iscroll_=new r(e,{mouseWheel:!0,click:!0,scrollbars:!0});var o=t(e).find(".on");o.length&&e._iscroll_.scrollToElement(o.get(0),0)}},l.prototype._initOverlay=function(){var e=this.ol=new i,o=this;e.on("hide",function(){o.selectors.addClass(s),o.triggers.removeClass("on")})},l.prototype._openSelector=function(e){this.selectors.addClass(s),this._showSelector(this.selectors.eq(e)),this.triggers.removeClass("on"),this.triggers.eq(e).addClass("on")},l.prototype.open=function(e){var o=this;this.selectors.each(function(n,i){t(i).find(".main .item").each(function(r,l){l.innerHTML==e&&(o._openSelector(n),t(i).find(".main .item").removeClass("on"),t(i).find(".sub").addClass(s),t(l).addClass("on"),o._showMenu(t(l._subItem_)))})})},n.exports=l},{main:!0,map:s})}();